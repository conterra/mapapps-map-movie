@import "../themeSettings.less";

.@{themeName}{
    .showWebFonts() when not (@ct-use-font-icons){
        .ctTool_locateme {
            /*Icon Positions*/
            .icon-locate-position{
                .size(22px);
                margin: 7px;
            }
            /*Icon Positions*/
            .icon-locate-position{
                background-position: -235px -12px;
            }
            &.dijitHover .icon-locate-position{
                background-position: -235px -57px;
            }
            &.dijitToggleButtonChecked .icon-locate-position,
            &.dijitCheckedHover .icon-locate-position{
                background-position:  -145px -57px;
            }
            //while acquiring the browsers position
            &.ctToolProcessing .icon-locate-position {
                background-image: url('../images/locateme_pending.gif');
                background-position: 0 0;
            }
        }
        //if used in a toolset, add padding to match size of other toolicons and change icon color for hovered/checked
        .ctToolWindow .ctTool_locateme{
            /*Icon Positions*/
            .icon-locate-position{
                padding: 0;
                background-position: -225px 0;
            }
            &.dijitHover .icon-locate-position{
                background-position: -225px -45px;
            }
            &.dijitToggleButtonChecked .icon-locate-position,
            &.dijitCheckedHover .icon-locate-position{
                background-position:  -135px -45px;
            }
        }
        // if used directly on map
        .mainMapControls .ctTool_locateme .icon-locate-position{
            padding: 1px;
        }
    }

    .showWebFonts() when (@ct-use-font-icons){
        .ctTool_locateme{
            &.ctTool .dijitButtonNode .icon-locate-position{
                .size(15px);
            }
            .icon-locate-position:before{
                font-size: @ct-icon-medium;
                position: relative; top: -3px; left: -3px;
            }
            &.dijitHover,
            &.dijitHover.dijitToggleButtonChecked,
            &.dijitChecked.dijitToggleButtonChecked{
                .dijitButtonNode{
                    color: @ct-highlight-color;
                }
            }
            &.dijitToggleButtonChecked .icon-locate-position:before{
                content: "\e03c";
            }
            //while acquiring the browsers position
            &.ctToolProcessing .icon-locate-position{
                .animation(spin, 1.5s, infinite, linear);
                &:before{
                    content: '\e097';
                }
            }
        }
        //if used in a toolset, add padding to match size of other toolicons and change icon color for hovered/checked
        .ctToolWindow .ctTool_locateme .icon-locate-position{
            padding: 15px;
            &:before{
                top: -18px;
            }
        }
        // if used directly on map
        .mainMapControls .ctTool_locateme .icon-locate-position{
            padding: 12px;
        }
        .mainMapControls .ctTool_locateme.ctToolProcessing .dijitButtonNode{
            color: @ct-icon-muted-hovered-color;
        }
    }

    .showWebFonts();

    .ctTool_locateme {
        .dijitButtonNode{
            padding: 0;
            .standard-gradient(@ct-toolset-button-background-color);
            border: none;
        }
    }

    .muted.ctToolContainer .ctTool_locateme{ 
        .dijitButtonNode{
        }
        .dijitIcon{
            padding: 0;
            &:before{
                font-size: inherit;
                top: 0;
                left: 0;
            }
        }
    }

    .setIeAlternativeLoadingSpinner() when (@ct-use-font-icons){
        &.ctEnv_IE_8,
        &.ctEnv_IE_9{
            //as IE <10 does not know css3 animations we need to put an animated gif instead.
            .ctToolWindow .ctTool.ctToolProcessing .icon-locate-position{
                background-image: url('../images/ie_fallback_spinner.gif');
                background-position: center center;
                background-repeat: no-repeat;
            }
            .ctToolWindow .ctTool.ctToolProcessing .icon-locate-position:before {
                //and remove the webFontIcon
                content: ""!important;
            }
        }
    }
    .setIeAlternativeLoadingSpinner();
}